

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Downloading and Installation &#8212; Epics Channel Access for Python</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/epicsdoc.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="PyEpics Overview" href="overview.html" />
    <link rel="prev" title="Epics Channel Access for Python" href="index.html" /> 
  </head><body>
<div style="background-color: #E7F0F3; text-align: left; padding: 8px 4px 8px 4px">
  <font size=+3><a href="index.html">
      <img src="_static/pyepics.png" height=50 border="0" alt="pyepics"/>
    &nbsp; PyEpics: Epics Channel Access for Python</a>
  </font>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="overview.html" title="PyEpics Overview"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Epics Channel Access for Python"
             accesskey="P">previous</a> |</li>
   <li>[<a href="#">install</a></li>
   <li>|<a href="overview.html">overview</a></li>
   <li>|<a href="pv.html">pv</a></li>
   <li>|<a href="ca.html">ca</a></li>
   <li>|<a href="arrays.html">arrays</a></li>
   <li>|<a href="devices.html">devices</a></li>
   <li>|<a href="alarm.html">alarm</a></li>
   <li>|<a href="autosave.html">autosave</a></li>
   <li>|<a href="wx.html">wx</a></li>
   <li>|<a href="advanced.html">advanced</a>]</li>

        <li class="nav-item nav-item-this"><a href="">Downloading and Installation</a></li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Downloading and Installation</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#downloads-and-installation">Downloads and Installation</a></li>
<li><a class="reference internal" href="#getting-started-setting-up-the-epics-environment">Getting Started, Setting up the Epics Environment</a></li>
<li><a class="reference internal" href="#testing">Testing</a></li>
<li><a class="reference internal" href="#development-version">Development Version</a></li>
<li><a class="reference internal" href="#getting-help">Getting Help</a></li>
<li><a class="reference internal" href="#license">License</a></li>
<li><a class="reference internal" href="#acknowledgments">Acknowledgments</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="index.html"
                          title="previous chapter">Epics Channel Access for Python</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="overview.html"
                          title="next chapter">PyEpics Overview</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/installation.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="downloading-and-installation">
<h1>Downloading and Installation<a class="headerlink" href="#downloading-and-installation" title="Permalink to this headline">¶</a></h1>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>PyEpics works with Python version 3.6 and higher.  At this writing,
automated testing is done with versions 3.7, 3.8, 3.9, and 3.10.0-beta.1,
though no problems are expected for Python 3.6.  Pyepics version 3.4.3 was
the final version to work with Python 2.7 or Python 3.5.</p>
<p>Pyepics is supported and regularly used on 64-bit Linux, 64-bit Mac OSX,
and 64-bit Windows.  It is known to work on Linux with ARM processors
including raspberry Pi. As of this writing, automated testing is done only
for Linux64.  Pyepics may still work on 32-bit Windows and Linux, but these
systems are not tested regularly.</p>
<p>The EPICS Channel Access library Version 3.14.12 or higher is required for
pyepics, and versions 3.15 or 7.0 or higher are strongly recommended.  More
specifically, pyepics requires the shared libraries <em>libca</em> and <em>libCom</em>
(<em>libca.so</em> and <em>libCom.so</em> on Linux, <em>libca.dylib</em> and <em>libCom.dylib</em> on
Mac OSX, or <em>ca.dll</em> and <em>Com.dll</em> on Windows) from <em>Epics Base</em>.</p>
<p>For Linux64, Linux32, LinuxArm, Windows64, Windows32, and Darwin64 (MacOS),
pre-built versions of <em>libca</em> (and <em>libCom</em>) built with 3.16.2 or 7.0.4 are
provided (details of how these were built are in the <cite>clibs</cite> folder of the
source kit), and will be installed into the python packages directory and
used by default.  This means that you do not need to install Epics base
libraries or any other packages to use pyepics.  For Epics experts who may
want to use their own versions the <em>libca</em> from Epics base, instructions
for how to do this are given below.</p>
<p>The Python <a class="reference external" href="https://numpy.scipy.org/">numpy</a> module is highly
recommended. and will be used to automatically convert between EPICS
waveforms and numpy arrays if available.</p>
<p>The <cite>autosave</cite> module requires the <cite>pyparsing</cite> package, which is widely
available and often installed by default with many Python distributions.
The <cite>wx</cite> module requires the <cite>wxPython</cite> package, and the <cite>qt</cite> module
requires <cite>PyQt</cite> or <cite>PySide</cite>.</p>
</section>
<section id="downloads-and-installation">
<h2>Downloads and Installation<a class="headerlink" href="#downloads-and-installation" title="Permalink to this headline">¶</a></h2>
<p>The latest stable version of the pyepics package is 3.5.1 which can be
installed with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">pyepics</span>
</pre></div>
</div>
<p>If you’re using Anaconda Python, there are a few conda channels that
provide the latest versions, but the version on <cite>PyPI</cite> should be considered
the reference version.  You can also download the source package, unpack
it, and install with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span>
</pre></div>
</div>
</section>
<section id="getting-started-setting-up-the-epics-environment">
<h2>Getting Started, Setting up the Epics Environment<a class="headerlink" href="#getting-started-setting-up-the-epics-environment" title="Permalink to this headline">¶</a></h2>
<p>Pyepics will find and load the Channel Access dynamic library (<em>libca.so</em>,
<em>libca.dylib</em>, or <em>ca.dll</em> depending on the system) at runtime in order to
actually work.  For the most commonly used operating systems and
architectures, modern version of these libraries are provided, and will be
installed and used with pyepics.  We strongly recommend using these.</p>
<p>If these provided versions of <em>libca</em> do not work for you, please let us know.
If you need to or wish to use a different version of <em>libca</em>, you can set the
environmental variable <code class="docutils literal notranslate"><span class="pre">PYEPICS_LIBCA</span></code> to the full path of the dynamic
library to use as <em>libca</em>, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">export</span> <span class="n">PYEPICS_LIBCA</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">epics</span><span class="o">/</span><span class="n">base</span><span class="o">-</span><span class="mf">7.0.4</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">linux</span><span class="o">-</span><span class="n">x86_64</span><span class="o">/</span><span class="n">libca</span><span class="o">.</span><span class="n">so</span>
</pre></div>
</div>
<p>Note that <em>libca</em> will need to find another Epics CA library <em>libCom</em>.  This
is almost always in the same folder as <em>libca</em>, but you may need to make sure
that the <em>libca</em> you are pointing to can find the required <em>libCom</em>. To
find out which CA library will be used by pyepics, use:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">epics</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">epics</span><span class="o">.</span><span class="n">ca</span><span class="o">.</span><span class="n">find_libca</span><span class="p">()</span>
</pre></div>
</div>
<p>which will print out the full path of the CA dynamic library that will be used.</p>
<p>With the Epics CA library loaded, you will need to be able to connect to
Epics Process Variables. Generally, these variables are provided by Epics
I/O controllers (IOCs) that are processes running on some device on the
network.  If you are connecting to PVs provided by IOCs on your local
subnet, you should have no trouble.  If trying to reach IOCs outside of
your immediate subnet, you may need to set the environmental variable
<code class="docutils literal notranslate"><span class="pre">EPICS_CA_ADDR_LIST</span></code> to specify which networks to search for PVs.</p>
</section>
<section id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h2>
<p>Automated and continuous unit-testing is done with the Github actions, for
Python 3.7. 3.8, 3.9, and 3.10.0-beta.1.  This uses an ubuntu-linux
enviroment.</p>
<p>To run these tests yourself, you will need the <cite>pytest</cite> python module. You
will also need to run an Epics softIOC as a separate process, and a
simulator that updates PV values as a separate process.  These can all run
on the same machine or different machines on your network as long as all
processes can see all the PVs (all using a prefix of <cite>PyTest:</cite>).  The
softIoc cannot be run in a separate terminal process or using the
<cite>procServ</cite> program.  To setup the testing environment, first start the
testing softIoc in one shell, with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">~&gt;</span> <span class="n">cd</span> <span class="n">tests</span><span class="o">/</span><span class="n">Setup</span>
<span class="o">~&gt;</span> <span class="n">softIoc</span> <span class="o">./</span><span class="n">st</span><span class="o">.</span><span class="n">cmd</span>
</pre></div>
</div>
<p>If you have <cite>procServ</cite> installed, you can do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">~&gt;</span> <span class="n">cd</span> <span class="n">tests</span><span class="o">/</span><span class="n">Setup</span>
<span class="o">~&gt;</span> <span class="n">bash</span> <span class="o">./</span><span class="n">start_ioc</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<p>which will put the IOC properly as a background process. Second, run the
simulator (also in <cite>tests/Setup</cite>) so that Epics channels are changing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">~&gt;</span> <span class="n">python</span> <span class="n">simulator</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>Again, these do not have to be run on the same machine as your tests, but
the PVs here will need to be discoverable by all the processes involved.</p>
<p>Now, you are ready to run the tests in the <cite>tests</cite> folder.  In many
scenarios for Python libraries, one would be able to run all the tests, and
measure the testing coverage with a single command.  Because the pyepics
test will change underlying threading contexts, a simple</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">~&gt;</span> <span class="n">cd</span> <span class="o">..</span>
<span class="o">~&gt;</span> <span class="n">pytest</span> <span class="n">test_</span><span class="o">*.</span><span class="n">py</span>
</pre></div>
</div>
<p>will show many failures.  Instead you should run each test as a separate
run of <cite>pytest</cite>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>~&gt; for testfile in test_*.py; do  pytest $testfile ; done
</pre></div>
</div>
<p>The automated testing process also uses the <cite>coverage</cite> tool to help
identify which parts of the code is actually run by the tests.
Unfortunately, the code for using GUI are not easily tested by the
automated procedures.  In addition, a softIoc would need to support all of
the subclasses of Device, which cannot be gauranteed.</p>
</section>
<section id="development-version">
<h2>Development Version<a class="headerlink" href="#development-version" title="Permalink to this headline">¶</a></h2>
<p>Development of pyepics is done through the <a class="reference external" href="https://github.com/pyepics/pyepics">pyepics github
repository</a>.  To get a copy of the latest version do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="nd">@github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">pyepics</span><span class="o">/</span><span class="n">pyepics</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
</section>
<section id="getting-help">
<h2>Getting Help<a class="headerlink" href="#getting-help" title="Permalink to this headline">¶</a></h2>
<p>For questions, bug reports, feature request, please consider using the
following methods:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Send email to the Epics Tech Talk mailing list.  You can send mail
directly to Matt Newville &lt;<a class="reference external" href="mailto:newville&#37;&#52;&#48;cars&#46;uchicago&#46;ed">newville<span>&#64;</span>cars<span>&#46;</span>uchicago<span>&#46;</span>ed</a>&gt;, but the mailing
list has many Epics experts reading it, so someone else interested or
knowledgeable about the topic might provide an answer. Since the
mailing list is archived and the main mailing list for Epics work, a
question to the mailing list has a better chance of helping someone
else.</p></li>
<li><p>Create an Issue on <a class="reference external" href="https://github.com/pyepics/pyepics">https://github.com/pyepics/pyepics</a>.  Though the
github Issues seem to be intended for bug tracking, they are a fine
way to catalog various kinds of questions and feature requests.</p></li>
<li><p>If you are sure you have found a bug in existing code, or have
some code you think would be useful to add to pyepics, consider
making a Pull Request on <a class="reference external" href="https://github.com/pyepics/pyepics">https://github.com/pyepics/pyepics</a>.</p></li>
</ol>
</div></blockquote>
</section>
<section id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h2>
<p>The pyepics source code, this documentation, and all material
associated with it are distributed under the Epics Open License:</p>
<p>The epics python module was orignally written by</p>
<blockquote>
<div><p>Matthew Newville &lt;<a class="reference external" href="mailto:newville&#37;&#52;&#48;cars&#46;uchicago&#46;edu">newville<span>&#64;</span>cars<span>&#46;</span>uchicago<span>&#46;</span>edu</a>&gt;
CARS, University of Chicago</p>
</div></blockquote>
<p>There have been several contributions from many others, notably Angus
Gratton &lt;<a class="reference external" href="mailto:angus&#46;gratton&#37;&#52;&#48;anu&#46;edu&#46;au">angus<span>&#46;</span>gratton<span>&#64;</span>anu<span>&#46;</span>edu<span>&#46;</span>au</a>&gt;.  See the Acknowledgements section of
the documentation for a list of more contributors.</p>
<p>Except where explicitly noted, all files in this distribution are licensed
under the Epics Open License.:</p>
<hr class="docutils" />
<p>Copyright  2010  Matthew Newville, The University of Chicago.  All rights reserved.</p>
<p>The epics python module is distributed subject to the following license conditions:
SOFTWARE LICENSE AGREEMENT
Software: epics python module</p>
<blockquote>
<div><p>1.  The “Software”, below, refers to the epics python module (in either
source code, or binary form and accompanying documentation). Each
licensee is addressed as “you” or “Licensee.”</p>
<p>2.  The copyright holders shown above and their third-party licensors
hereby grant Licensee a royalty-free nonexclusive license, subject to
the limitations stated herein and U.S. Government license rights.</p>
<p>3.  You may modify and make a copy or copies of the Software for use
within your organization, if you meet the following conditions:</p>
<blockquote>
<div><p>1. Copies in source code must include the copyright notice and  this
Software License Agreement.</p>
<p>2. Copies in binary form must include the copyright notice and  this
Software License Agreement in the documentation and/or other
materials provided with the copy.</p>
</div></blockquote>
<p>4.  You may modify a copy or copies of the Software or any portion of
it, thus forming a work based on the Software, and distribute copies of
such work outside your organization, if you meet all of the following
conditions:</p>
<blockquote>
<div><p>1. Copies in source code must include the copyright notice and this
Software License Agreement;</p>
<p>2. Copies in binary form must include the copyright notice and this
Software License Agreement in the documentation and/or other
materials provided with the copy;</p>
<p>3. Modified copies and works based on the Software must carry
prominent notices stating that you changed specified portions of
the Software.</p>
</div></blockquote>
<p>5.  Portions of the Software resulted from work developed under a
U.S. Government contract and are subject to the following license: the
Government is granted for itself and others acting on its behalf a
paid-up, nonexclusive, irrevocable worldwide license in this computer
software to reproduce, prepare derivative works, and perform publicly
and display publicly.</p>
<p>6.  WARRANTY DISCLAIMER. THE SOFTWARE IS SUPPLIED “AS IS” WITHOUT
WARRANTY OF ANY KIND. THE COPYRIGHT HOLDERS, THEIR THIRD PARTY
LICENSORS, THE UNITED STATES, THE UNITED STATES DEPARTMENT OF ENERGY,
AND THEIR EMPLOYEES: (1) DISCLAIM ANY WARRANTIES, EXPRESS OR IMPLIED,
INCLUDING BUT NOT LIMITED TO ANY IMPLIED WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE, TITLE OR NON-INFRINGEMENT, (2) DO NOT
ASSUME ANY LEGAL LIABILITY OR RESPONSIBILITY FOR THE ACCURACY,
COMPLETENESS, OR USEFULNESS OF THE SOFTWARE, (3) DO NOT REPRESENT THAT
USE OF THE SOFTWARE WOULD NOT INFRINGE PRIVATELY OWNED RIGHTS, (4) DO
NOT WARRANT THAT THE SOFTWARE WILL FUNCTION UNINTERRUPTED, THAT IT IS
ERROR-FREE OR THAT ANY ERRORS WILL BE CORRECTED.</p>
<p>7.  LIMITATION OF LIABILITY. IN NO EVENT WILL THE COPYRIGHT HOLDERS,
THEIR THIRD PARTY LICENSORS, THE UNITED STATES, THE UNITED STATES
DEPARTMENT OF ENERGY, OR THEIR EMPLOYEES: BE LIABLE FOR ANY INDIRECT,
INCIDENTAL, CONSEQUENTIAL, SPECIAL OR PUNITIVE DAMAGES OF ANY KIND OR
NATURE, INCLUDING BUT NOT LIMITED TO LOSS OF PROFITS OR LOSS OF DATA,
FOR ANY REASON WHATSOEVER, WHETHER SUCH LIABILITY IS ASSERTED ON THE
BASIS OF CONTRACT, TORT (INCLUDING NEGLIGENCE OR STRICT LIABILITY), OR
OTHERWISE, EVEN IF ANY OF SAID PARTIES HAS BEEN WARNED OF THE
POSSIBILITY OF SUCH LOSS OR DAMAGES.</p>
</div></blockquote>
<hr class="docutils" />
<p>In plain English, this says that there is no warranty or guarantee that the
code will actually work, but you can do anything you like with this code
except a) claim that you wrote it or b) claim that the people who did write
it endorse your use of the code. Unless you’re the US government, in which
case you can probably do whatever you want.</p>
</section>
<section id="acknowledgments">
<h2>Acknowledgments<a class="headerlink" href="#acknowledgments" title="Permalink to this headline">¶</a></h2>
<p>pyepics was originally written and is maintained by Matt Newville
&lt;<a class="reference external" href="mailto:newville&#37;&#52;&#48;cars&#46;uchicago&#46;ed">newville<span>&#64;</span>cars<span>&#46;</span>uchicago<span>&#46;</span>ed</a>&gt;.  Many important contributions to the library
have come from Angus Gratton while at the Australian National University,
and from Daron Chabot and Ken Lauer.  Several other people have provided
valuable additions, suggestions, pull requests or bug reports, which has
greatly improved the quality of the library: Robbie Clarken, Daniel Allen,
Michael Abbott, Thomas Caswell, Alain Peteut, Steven Hartmann, Rokvintar,
Georg Brandl, Niklas Claesson, Jon Brinkmann, Marco Cammarata, Craig
Haskins, David Vine, Pete Jemian, Andrew Johnson, Janko Kolar, Irina
Kosheleva, Tim Mooney, Eric Norum, Mark Rivers, Friedrich Schotte, Mark
Vigder, Steve Wasserman, and Glen Wright.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="overview.html" title="PyEpics Overview"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Epics Channel Access for Python"
             >previous</a> |</li>
   <li>[<a href="#">install</a></li>
   <li>|<a href="overview.html">overview</a></li>
   <li>|<a href="pv.html">pv</a></li>
   <li>|<a href="ca.html">ca</a></li>
   <li>|<a href="arrays.html">arrays</a></li>
   <li>|<a href="devices.html">devices</a></li>
   <li>|<a href="alarm.html">alarm</a></li>
   <li>|<a href="autosave.html">autosave</a></li>
   <li>|<a href="wx.html">wx</a></li>
   <li>|<a href="advanced.html">advanced</a>]</li>

        <li class="nav-item nav-item-this"><a href="">Downloading and Installation</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, Matthew Newville.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.4.0.
    </div>
  </body>
</html>